<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>×ª×Ÿ ×ª×’×•×‘×”</title>
    <style>
        :root { --pink: #e91e63; --violet: #667eea; }
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; background: #667eea; margin: 0; padding: 10px; direction: rtl; }
        
        /* ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ñ…ĞµĞ´ĞµÑ€ */
        header { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 15px;
            padding: 20px; 
            background: white; 
            border-radius: 20px; 
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        @media (min-width: 600px) {
            header { flex-direction: row; justify-content: space-between; text-align: right; }
        }

        .auth-buttons { display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; }
        
        button { 
            cursor: pointer; border: none; padding: 12px 18px; 
            border-radius: 12px; font-weight: 600; font-size: 14px;
            transition: transform 0.1s;
            -webkit-tap-highlight-color: transparent;
        }
        button:active { transform: scale(0.95); }

        .btn-add { background: var(--pink); color: white; width: 100%; font-size: 16px; }
        @media (min-width: 600px) { .btn-add { width: auto; } }

        .btn-outline { background: #f1f1f1; color: #333; }
        .btn-primary { background: var(--violet); color: white; }

        /* Ğ¡ĞµÑ‚ĞºĞ° ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº */
        .board { 
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 15px; 
        }

        @media (min-width: 768px) {
            .board { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
        }

        .card { 
            background: white; 
            border-radius: 20px; 
            padding: 15px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: right;
        }

        .card textarea { 
            width: 100%; border: none; outline: none; 
            min-height: 120px; resize: none; font-size: 16px;
            padding: 10px 0;
            font-family: inherit;
            direction: ltr; /* Ğ¢ĞµĞºÑÑ‚ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ (email/english) Ğ»ÑƒÑ‡ÑˆĞµ Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ ltr */
        }

        .modal { 
            background: white; 
            padding: 25px; 
            border-radius: 20px; 
            width: 90%; 
            max-width: 350px; 
            text-align: center;
        }
        
        .modal input { 
            width: 100%; padding: 15px; margin: 10px 0; 
            border: 1px solid #ddd; border-radius: 12px; 
            box-sizing: border-box; font-size: 16px;
            text-align: center;
        }

        .modal-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.7); display: none; justify-content: center; align-items: center; z-index: 1000; }
        .admin-only { display: none; background: #fff0f0; color: #ff4757; width: 100%; margin-top: 10px; padding: 10px; border-radius: 10px; }
        .admin-mode .admin-only { display: block; }
        .hidden { display: none; }
    </style>
</head>
<body id="mainBody">

<header>
    <div onclick="window.location.href=window.location.pathname" style="cursor:pointer">
        <h2 style="margin:0">ğŸš€ ×ª×Ÿ ×ª×’×•×‘×”</h2>
        <small id="userStatus" style="color: #666;">×˜×•×¢×Ÿ...</small>
    </div>
    <div class="auth-buttons">
        <button class="btn-add" id="addBtn">+ ×¤×•×¡×˜ ×—×“×©</button>
        <span id="guestSection">
            <button class="btn-outline" onclick="openModal('login')">×”×ª×—×‘×¨</button>
            <button class="btn-primary" onclick="openModal('register')">×”×¨×©××”</button>
        </span>
        <span id="userSection" class="hidden">
            <button class="btn-outline" id="myProfileBtn">×¤×¨×•×¤×™×œ ×©×œ×™</button>
            <button class="btn-outline" onclick="window.logout()">×”×ª× ×ª×§</button>
        </span>
    </div>
</header>

<div class="board" id="board"></div>

<div class="modal-overlay" id="modalOverlay">
    <div class="modal">
        <h3 id="modalTitle" style="margin-top:0">×›× ×™×¡×”</h3>
        <input type="email" id="authEmail" placeholder="××™××™×™×œ">
        <input type="password" id="authPass" placeholder="×¡×™×¡××”">
        <button class="btn-primary" style="width:100%" id="authSubmit">××™×©×•×¨</button>
        <button class="btn-outline" style="width:100%; margin-top:10px;" onclick="closeModal()">×‘×™×˜×•×œ</button>
    </div>
</div>

<script type="module">
  import
